{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"43225005-d66d61a579372833bf726388e\";\n\nimport axios from \"axios\";\n\nexport async function fetchImages(nameImg, page = 1, perPage = 15) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: nameImg,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        page,\n        per_page: perPage,\n    });\n\n    try {\n        const response = await axios.get(`${BASE_URL}?${params}`);\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching images:\", error);\n        throw error;\n    }\n}\n","export function createMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, views, downloads, likes, comments }) => `\n    <li class=\"imageItme\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"imgAdd\" src=\"${webformatURL}\" alt=\"${tags}\">\n    <ul class=\"imgInfo\">\n    <li class=\"info_item\"><p>Likes</p>${likes}</li>\n    <li class=\"info_item\"><p>Views</p>${views}</li>\n    <li class=\"info_item\"><p>Comments</p>${comments}</li>\n    <li class=\"info_item\"><p>Downloads</p>${downloads}</li>\n    </ul>\n    </a>\n    </li>\n`).join(\"\");\n}\n","// main.js\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from \"./js/pixabay-api.js\";\nimport { createMarkup } from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".form\");\nconst list = document.querySelector('.gallery');\nconst loader = document.getElementById('loader');\nconst input = document.querySelector('#nameImg');\nconst btnLoadMore = document.querySelector(\".btn_load_more\")\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    if (input.value === \"\") {\n        iziToast.error({\n            position: 'topRight',\n            message: 'The field is empty! Enter image name!',\n        });\n        return;\n    } \n    const { nameImg } = event.currentTarget.elements;\n\n    loader.style.display = 'inline-block';\n\n    fetchImages(nameImg.value)\n        .then(data => {\n            if (data.total === 0) {\n                iziToast.error({\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            }\n            list.innerHTML = createMarkup(data.hits);\n            initializeLightbox();\n        })\n        .catch(error => alert(error))\n        .finally(() => {\n            loader.style.display = 'none';\n            \n        });\n    input.value = \"\";\n}\nfunction initializeLightbox() {\n    let gallery = new SimpleLightbox('.gallery a', {\n        overlayOpacity: 0.8,\n        scrollZoom: false,\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n    gallery.refresh();\n}\n\nbtnLoadMore.addEventListener(\"click\", loadMore);\n\nfunction loadMore() {\n\n}\n\n"],"names":["BASE_URL","API_KEY","fetchImages","nameImg","page","perPage","params","axios","error","createMarkup","arr","webformatURL","largeImageURL","tags","views","downloads","likes","comments","form","list","loader","input","btnLoadMore","handleSubmit","event","iziToast","data","initializeLightbox","SimpleLightbox","loadMore"],"mappings":"owBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAIT,eAAeC,EAAYC,EAASC,EAAO,EAAGC,EAAU,GAAI,CAC/D,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKL,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAUC,CAClB,CAAK,EAED,GAAI,CAEA,OADiB,MAAME,EAAM,IAAI,GAAGP,CAAQ,IAAIM,CAAM,EAAE,GACxC,IACnB,OAAQE,EAAO,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACT,CACL,CCvBO,SAASC,EAAaC,EAAK,CAC9B,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,UAAAC,EAAW,MAAAC,EAAO,SAAAC,CAAU,IAAK;AAAA;AAAA,oCAE7DL,CAAa;AAAA,+BAClBD,CAAY,UAAUE,CAAI;AAAA;AAAA,wCAEjBG,CAAK;AAAA,wCACLF,CAAK;AAAA,2CACFG,CAAQ;AAAA,4CACPF,CAAS;AAAA;AAAA;AAAA;AAAA,CAIpD,EAAE,KAAK,EAAE,CACV,CCJA,MAAMG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAQ,SAAS,cAAc,UAAU,EACzCC,EAAc,SAAS,cAAc,gBAAgB,EAE3DJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAEzB,GADAA,EAAM,eAAc,EAChBH,EAAM,QAAU,GAAI,CACpBI,EAAS,MAAM,CACX,SAAU,WACV,QAAS,uCACrB,CAAS,EACD,MACH,CACD,KAAM,CAAE,QAAAtB,CAAS,EAAGqB,EAAM,cAAc,SAExCJ,EAAO,MAAM,QAAU,eAEvBlB,EAAYC,EAAQ,KAAK,EACpB,KAAKuB,GAAQ,CACNA,EAAK,QAAU,GACfD,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EAC7B,CAAiB,EAELN,EAAK,UAAYV,EAAaiB,EAAK,IAAI,EACvCC,GACZ,CAAS,EACA,MAAMnB,GAAS,MAAMA,CAAK,CAAC,EAC3B,QAAQ,IAAM,CACXY,EAAO,MAAM,QAAU,MAEnC,CAAS,EACLC,EAAM,MAAQ,EAClB,CACA,SAASM,GAAqB,CACZ,IAAIC,EAAe,aAAc,CAC3C,eAAgB,GAChB,WAAY,GACZ,aAAc,MACd,aAAc,GACtB,CAAK,EACO,QAAO,CACnB,CAEAN,EAAY,iBAAiB,QAASO,CAAQ,EAE9C,SAASA,GAAW,CAEpB"}